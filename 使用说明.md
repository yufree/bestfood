# 微信小程序 - 时令果蔬助手

## 📱 快速开始

### 第一步：打开微信开发者工具
1. 下载并安装 [微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
2. 用微信扫码登录
3. 更新到最新版本（支持 requiredPrivateInfos）

### 第二步：导入项目
1. 点击「导入项目」
2. 选择本项目文件夹：`besttimefood-miniprogram`
3. 输入 AppID：
   - 已检测到 AppID：`wx42be0340848af5b3`（可直接使用）
   - 或使用测试号：`touristappid`
   - 或输入你自己的小程序 AppID
4. 项目名称：`时令果蔬助手`
5. 点击「导入」

### 第三步：运行项目
1. 等待编译完成
2. 在左侧模拟器中查看效果
3. 点击「预览」在手机上测试
4. 点击「上传」提交审核

## 🎯 功能说明

### 首页功能
- **今日最佳推荐**：显示评分 ≥ 4.5 的高分果蔬
- **当季全部果蔬**：按推荐分数排序显示所有应季果蔬
- **筛选功能**：
  - 品类：全部 / 水果 / 蔬菜
  - 来源：全部 / 国产 / 进口
- **日期选择**：查看任意日期的应季果蔬

### 搜索页功能
- **关键词搜索**：输入果蔬名称搜索
- **筛选**：按品类和来源筛选搜索结果
- **热门搜索**：点击热门标签快速搜索
- **收藏功能**：收藏喜欢的果蔬

## 🔧 自定义配置

### 修改数据
编辑 `utils/data.js` 文件，可以：
- 添加新的果蔬数据
- 修改季节信息
- 调整推荐分数
- 添加营养标签

### 修改样式
- 全局样式：`app.wxss`
- 页面样式：`pages/{页面名}/{页面名}.wxss`

### 添加页面
1. 在 `pages/` 目录下创建新文件夹
2. 创建四个文件：`wxml`、`wxss`、`js`、`json`
3. 在 `app.json` 中注册页面

## 📝 发布上线

### 1. 上传代码
1. 点击开发者工具右上角「上传」
2. 填写版本号（如：1.0.0）
3. 填写项目备注
4. 点击「上传」

### 2. 提交审核
1. 登录 [微信公众平台](https://mp.weixin.qq.com/)
2. 进入「开发管理」→「开发版本」
3. 找到上传的版本，点击「提交审核」
4. 填写审核信息：
   - 功能页面：首页、搜索页
   - 功能描述：查询应季果蔬信息
   - 测试账号：如需测试，提供测试信息

### 3. 发布上线
- 审核通过后，点击「发布」
- 小程序即可正式上线

## ⚠️ 注意事项

1. **域名配置**：小程序只能请求合法域名，测试阶段可以关闭校验
2. **AppID**：正式发布需要申请自己的 AppID
3. **类目选择**：选择「工具 > 生活助手」或「美食 > 餐饮」
4. **隐私保护**：如需获取用户信息，需要在隐私指引中说明

## 💡 常见问题

**Q: 为什么看不到图标？**
A: 当前版本使用 emoji 作为图标，如需精美图标，可准备 PNG 图标文件替换。

**Q: 数据如何更新？**
A: 目前数据写在代码中，未来可以接入后端 API 动态更新。

**Q: 如何添加更多果蔬？**
A: 编辑 `utils/data.js` 文件，在 `SEASONAL_ITEMS` 数组中添加新条目。

**Q: 小程序可以商业化吗？**
A: 可以考虑接入电商平台、添加广告等方式商业化。

## 🔧 故障排除

**Q: 编译错误：图标文件不存在**
A: 已修复。TabBar 现在使用纯文字模式。如需图标，请查看 `编译错误修复.md`。

**Q: 获取位置失败：API 未声明**
A: 已修复。已在 `app.json` 中声明位置权限。如需了解详情，请查看 `位置权限修复.md`。

**Q: 提示需要更新开发者工具**
A: 请更新微信开发者工具到最新版本，支持 `requiredPrivateInfos` 配置。

**Q: 真机预览时位置获取失败**
A: 这是正常现象。小程序需要用户授权才能获取位置。用户可以选择「拒绝」，小程序会使用默认位置（北京）。

**Q: 审核被拒绝**
A: 原因可能是：
1. 未填写「用户隐私保护指引」
2. 功能过于简单
3. 类目选择不当

解决方案：
1. 填写完整的隐私指引
2. 添加更多功能或内容
3. 选择合适的类目（工具 > 生活助手）

## 📞 技术支持

如遇到问题，可以：
1. 查看微信小程序官方文档
2. 搜索相关技术社区
3. 提交 Issue 反馈

## 🎉 完成！

恭喜！你的时令果蔬助手小程序已经创建完成。

现在可以：
- 在微信中分享给朋友使用
- 持续迭代功能
- 收集用户反馈
- 考虑商业化运营

祝你使用愉快！🍎🥬